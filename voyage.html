<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Voyage Info | Norröna Guide</title>
    <style type="text/css">@font-face {font-family:Poppins;font-style:normal;font-weight:300;src:url(/cf-fonts/s/poppins/5.0.11/latin-ext/300/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Poppins;font-style:normal;font-weight:300;src:url(/cf-fonts/s/poppins/5.0.11/latin/300/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Poppins;font-style:normal;font-weight:300;src:url(/cf-fonts/s/poppins/5.0.11/devanagari/300/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Poppins;font-style:normal;font-weight:400;src:url(/cf-fonts/s/poppins/5.0.11/latin-ext/400/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Poppins;font-style:normal;font-weight:400;src:url(/cf-fonts/s/poppins/5.0.11/latin/400/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Poppins;font-style:normal;font-weight:400;src:url(/cf-fonts/s/poppins/5.0.11/devanagari/400/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Poppins;font-style:normal;font-weight:600;src:url(/cf-fonts/s/poppins/5.0.11/latin/600/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Poppins;font-style:normal;font-weight:600;src:url(/cf-fonts/s/poppins/5.0.11/latin-ext/600/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Poppins;font-style:normal;font-weight:600;src:url(/cf-fonts/s/poppins/5.0.11/devanagari/600/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}@font-face {font-family:Poppins;font-style:normal;font-weight:700;src:url(/cf-fonts/s/poppins/5.0.11/latin/700/normal.woff2);unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD;font-display:swap;}@font-face {font-family:Poppins;font-style:normal;font-weight:700;src:url(/cf-fonts/s/poppins/5.0.11/latin-ext/700/normal.woff2);unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF;font-display:swap;}@font-face {font-family:Poppins;font-style:normal;font-weight:700;src:url(/cf-fonts/s/poppins/5.0.11/devanagari/700/normal.woff2);unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+25CC,U+A830-A839,U+A8E0-A8FF;font-display:swap;}</style><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"><link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"/>
    <style>:root{--smyril-blue:#002B5C;--smyril-accent:#00A9E0;--background-light:#f4f7f9;--surface-white:#ffffff;--text-dark:#212529;--text-light:#ffffff;--text-muted:#6c757d;--shadow:0 8px 30px rgba(0, 43, 92, 0.1);--border-radius:16px}*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Poppins',sans-serif;background-color:var(--smyril-blue);color:var(--text-dark);line-height:1.7}body.mobile-nav-active{overflow:hidden}.main-header{position:sticky;top:0;left:0;width:100%;z-index:1000;background-color:rgba(0,43,92,.85);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);box-shadow:0 2px 10px rgba(0,0,0,.1)}.container{max-width:1200px;margin:0 auto;padding:0 20px}.navbar{display:flex;justify-content:space-between;align-items:center;height:80px}.navbar .logo img{height:30px}.nav-links{display:flex;list-style:none;gap:40px}.nav-links a{color:var(--text-light);text-decoration:none;font-weight:600;padding:10px 0;position:relative;transition:color .3s ease}.nav-links a::after{content:'';position:absolute;bottom:0;left:0;width:100%;height:3px;background-color:var(--smyril-accent);transform:scaleX(0);transform-origin:bottom right;transition:transform .3s ease-out}.nav-links a:hover,.nav-links a.active{color:var(--smyril-accent)}.nav-links a.active::after{transform:scaleX(1);transform-origin:bottom left}.hamburger-menu{display:none;background:none;border:none;cursor:pointer;padding:10px}.hamburger-menu .material-icons{color:var(--text-light);font-size:36px}.mobile-nav{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,43,92,.98);z-index:1100;display:flex;flex-direction:column;justify-content:center;align-items:center;transform:translateY(-100%);transition:transform .4s ease-in-out}.mobile-nav.active{transform:translateY(0)}.mobile-nav .close-btn{position:absolute;top:20px;right:20px;background:none;border:none;cursor:pointer}.mobile-nav .close-btn .material-icons{color:var(--text-light);font-size:40px}.mobile-nav ul{list-style:none;padding:0;text-align:center}.mobile-nav ul li{margin:20px 0}.mobile-nav ul a{color:var(--text-light);text-decoration:none;font-size:2rem;font-weight:600;padding:10px}.mobile-nav ul a.active{color:var(--smyril-accent)}#map{width:100%;height:40vh;border-bottom:4px solid var(--smyril-accent)}.leaflet-container{background-color:#1a1a1a}.page-content{padding:30px 20px}.voyage-grid{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:20px}.grid-item{background-color:rgba(255,255,255,.05);border-radius:var(--border-radius);padding:20px;text-align:center;color:var(--text-light)}.grid-item .label{font-size:.9rem;font-weight:600;color:var(--smyril-accent);margin-bottom:10px;text-transform:uppercase}.grid-item .value{font-size:1.8rem;font-weight:700}.grid-item .sub-value{font-size:1rem;color:var(--text-muted)}.weather-panel{background-color:rgba(255,255,255,.05);border-radius:var(--border-radius);padding:20px;display:flex;align-items:center;gap:20px;color:var(--text-light)}.weather-panel img{width:80px;height:80px}.weather-info .label{font-size:.9rem;font-weight:600;color:var(--smyril-accent);text-transform:uppercase}.weather-info .value{font-size:1.5rem;font-weight:700}.weather-info #destination{font-size:1.2rem;display:block}@media (max-width:768px){.nav-links{display:none}.hamburger-menu{display:block}}</style>
</head>
<body>
    <header class="main-header">
        <nav class="container navbar">
            <a href="index.html" class="logo"><img src="https://www.smyrilline.com/media/cfbbld2d/smyril-line-logo-white.svg" alt="Smyril Line Logo"></a>
            <ul class="nav-links"><li><a href="index.html" class="nav-link">Home</a></li><li><a href="outlets.html" class="nav-link">Outlets</a></li><li><a href="entertainment.html" class="nav-link">Entertainment</a></li><li><a href="voyage.html" class="nav-link active">Voyage Info</a></li></ul>
            <button class="hamburger-menu" id="hamburger-menu"><span class="material-icons">menu</span></button>
        </nav>
    </header>
    <div class="mobile-nav" id="mobile-nav">
        <button class="close-btn" id="close-btn"><span class="material-icons">close</span></button>
        <ul><li><a href="index.html" class="nav-link">Home</a></li><li><a href="outlets.html" class="nav-link">Outlets</a></li><li><a href="entertainment.html" class="nav-link">Entertainment</a></li><li><a href="voyage.html" class="nav-link active">Voyage Info</a></li></ul>
    </div>
    <main>
        <div id="map"></div>
        <div class="page-content">
            <div class="voyage-grid">
                <div class="grid-item"><div class="label">Current Speed</div><div class="value" id="speed-knots">--</div><div class="sub-value" id="speed-kmh">-- km/h</div></div>
                <div class="grid-item"><div class="label">Onboard Time</div><div class="value" id="current-time">--:--</div><div class="sub-value">Atlantic/Faroe</div></div>
                <div class="grid-item"><div class="label">Distance to Go</div><div class="value" id="distance">--</div><div class="sub-value">Kilometers</div></div>
                <div class="grid-item"><div class="label">Arrival (ETA)</div><div class="value" id="eta-time">--:--</div><div class="sub-value" id="eta-day">--</div></div>
            </div>
            <div class="weather-panel">
                <img id="weather-icon" src="" alt=""><div class="weather-info"><div class="label">Weather at Destination</div><div class="value"><span id="weather-temp">--°C</span>, <span id="weather-description">--</span></div><span id="destination">Loading...</span></div>
            </div>
        </div>
    </main>
<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
<script>const hamburgerMenu=document.getElementById("hamburger-menu"),mobileNav=document.getElementById("mobile-nav"),closeBtn=document.getElementById("close-btn"),mobileNavLinks=mobileNav.querySelectorAll("a");function openMobileMenu(){mobileNav.classList.add("active"),document.body.classList.add("mobile-nav-active")}function closeMobileMenu(){mobileNav.classList.remove("active"),document.body.classList.remove("mobile-nav-active")}hamburgerMenu.addEventListener("click",openMobileMenu),closeBtn.addEventListener("click",closeMobileMenu),mobileNavLinks.forEach(e=>{e.addEventListener("click",closeMobileMenu)});const map=L.map("map",{zoomControl:!1,attributionControl:!1,renderer:L.canvas()});L.tileLayer("https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",{attribution:"",subdomains:"abcd"}).addTo(map);const shipIcon=L.divIcon({html:'<svg width="32" height="18" viewBox="0 0 32 18" xmlns="http://www.w3.org/2000/svg"><path d="M2 13 Q6 15 28 15 L30 13 L30 10 L28 8 Q24 7 6 7 L2 9 Z" fill="#00A9E0" stroke="#FFFFFF" stroke-width="1"/><rect x="20" y="2" width="8" height="7" fill="#FFFFFF" stroke="#002B5C" stroke-width="1"/></svg>',className:"",iconSize:[32,18],iconAnchor:[16,9]}),destIcon=L.icon({iconUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png",iconSize:[12,20],iconAnchor:[6,20]});let shipMarker=null,destMarker=null;const destinationMap={torshavn:{country:"Faroe Islands",lat:62.01,lon:-6.771},hirtshals:{country:"Denmark",lat:57.594,lon:9.965},seydisfjord:{country:"Iceland",lat:65.262,lon:-14.012}};function haversineDistance(e,t,o,a){const n=6371,r=(o-e)*Math.PI/180,i=(a-t)*Math.PI/180,s=Math.sin(r/2)*Math.sin(r/2)+Math.cos(e*Math.PI/180)*Math.cos(o*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);return 2*n*Math.atan2(Math.sqrt(s),Math.sqrt(1-s))}
function formatETA(e){if(!e)return{day:"--",time:"--:--"};try{const t=new Date(e);if(isNaN(t.getTime()))return{day:"Invalid Date",time:""};const o=t.toLocaleDateString("en-GB",{weekday:"long",timeZone:"Atlantic/Faroe"}),a=t.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"Atlantic/Faroe"});return{day:o,time:a}}catch(e){return{day:"Error",time:""}}}function normalizeDestinationName(e){return e?e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/ð/g,"d").replace(/[^a-z0-9]/g,""):""}async function fetchWeatherData(e,t){try{const o=`https://weather.googleapis.com/v1/currentConditions:lookup?key=AIzaSyAAXsfnLWGjbcz4RGlERJwo3Y0Soe56ryI&location.latitude=${e}&location.longitude=${t}`,a=await fetch(o);if(!a.ok)return;const n=await a.json();document.getElementById("weather-temp").textContent=`${Math.round(n.temperature.degrees)}°C`,document.getElementById("weather-description").textContent=n.weatherCondition.description?.text||"Clear"}catch(e){console.error("Weather fetch failed",e)}}
async function updateShipData(){try{const e=await fetch("https://smyrillinewebapi-cec3fkhjh8bbhtd3.northeurope-01.azurewebsites.net/vessel/vessels"),t=await e.json(),o=t.find(e=>"NORRONA"===e.vesselName?.toUpperCase());if(!o)return;const a=o.position?.speed||0;document.getElementById("speed-knots").textContent=`${a} kn`,document.getElementById("speed-kmh").textContent=`${(1.852*a).toFixed(1)} km/h`;const n=o.destinationFromAIS.split(",")[0].trim(),r=normalizeDestinationName(n),i=destinationMap[r];if(i){document.getElementById("destination").textContent=`${n}, ${i.country}`;const{day:e,time:t}=formatETA(o.etaFromAIS);document.getElementById("eta-day").textContent=e,document.getElementById("eta-time").textContent=t;const a=haversineDistance(o.position.latitude,o.position.longitude,i.lat,i.lon);document.getElementById("distance").textContent=`${Math.round(a)}`;const r=[o.position.latitude,o.position.longitude],s=[i.lat,i.lon];shipMarker?shipMarker.setLatLng(r):shipMarker=L.marker(r,{icon:shipIcon}).addTo(map),destMarker?destMarker.setLatLng(s):destMarker=L.marker(s,{icon:destIcon}).addTo(map),map.fitBounds(L.latLngBounds(r,s),{padding:[50,50]}),fetchWeatherData(i.lat,i.lon)}}catch(e){console.error("Failed to update ship data",e)}}
function updateTime(){const e=(new Date).toLocaleTimeString("en-GB",{timeZone:"Atlantic/Faroe",hour:"2-digit",minute:"2-digit",hour12:!1});document.getElementById("current-time").textContent=e}updateShipData(),updateTime(),setInterval(updateShipData,12e4),setInterval(updateTime,1e3);</script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'98c6ac5a8cc70032',t:'MTc2MDEwNTEzMy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>